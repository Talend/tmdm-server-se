<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE jboss PUBLIC "-//JBoss//DTD JBOSS 4.0//EN" "http://www.jboss.org/j2ee/dtd/jboss_4_0.dtd">

<jboss>

    <security-domain>java:/jaas/xtentisSecurity</security-domain>
    <unauthenticated-principal>guest</unauthenticated-principal>

    <enterprise-beans>

        <!--
          To add beans that you have deployment descriptor info for, add
          a file to your XDoclet merge directory called jboss-beans.xml that contains
          the <session></session>, <entity></entity> and <message-driven></message-driven>
          markup for those beans.
        -->

        <entity>
            <ejb-name>Service</ejb-name>
            <local-jndi-name>amalto/local/core/service</local-jndi-name>

            <method-attributes>
            </method-attributes>

        </entity>

        <session>
            <ejb-name>CustomFormCtrl</ejb-name>
            <jndi-name>amalto/remote/core/customformctrl</jndi-name>
            <local-jndi-name>amalto/local/core/customformctrl</local-jndi-name>

            <method-attributes>
            </method-attributes>
        </session>
        <session>
            <ejb-name>DataModelCtrl</ejb-name>
            <jndi-name>amalto/remote/core/datamodelctrl</jndi-name>
            <local-jndi-name>amalto/local/core/datamodelctrl</local-jndi-name>

            <method-attributes>
            </method-attributes>
        </session>
        <session>
            <ejb-name>RoutingRuleCtrl</ejb-name>
            <jndi-name>amalto/remote/core/routingrulectrl</jndi-name>
            <local-jndi-name>amalto/local/core/routingrulectrl</local-jndi-name>

            <method-attributes>
            </method-attributes>
        </session>
        <session>
            <ejb-name>TransformerV2Ctrl</ejb-name>
            <jndi-name>amalto/remote/core/transformerv2ctrl</jndi-name>
            <local-jndi-name>amalto/local/core/transformerv2ctrl</local-jndi-name>

            <method-attributes>
            </method-attributes>
        </session>
        <session>
            <ejb-name>TransformerCtrl</ejb-name>
            <jndi-name>amalto/remote/core/transformerctrl</jndi-name>
            <local-jndi-name>amalto/local/core/transformerctrl</local-jndi-name>

            <method-attributes>
            </method-attributes>
        </session>
        <session>
            <ejb-name>RoutingOrderV2Ctrl</ejb-name>
            <jndi-name>amalto/remote/core/RoutingOrderCtrlV2</jndi-name>
            <local-jndi-name>amalto/local/core/RoutingOrderCtrlV2</local-jndi-name>

            <method-attributes>
            </method-attributes>
        </session>
        <session>
            <ejb-name>DataClusterCtrl</ejb-name>
            <jndi-name>amalto/remote/core/dataclusterctrl</jndi-name>
            <local-jndi-name>amalto/local/core/dataclusterctrl</local-jndi-name>

            <method-attributes>
            </method-attributes>
        </session>
        <session>
            <ejb-name>StoredProcedureCtrl</ejb-name>
            <jndi-name>amalto/remote/core/storedprocedurectrl</jndi-name>
            <local-jndi-name>amalto/local/core/storedprocedurectrl</local-jndi-name>

            <method-attributes>
            </method-attributes>
        </session>
        <session>
            <ejb-name>RoutingEngineV2Ctrl</ejb-name>
            <jndi-name>amalto/remote/core/routingenginev2ctrl</jndi-name>
            <local-jndi-name>amalto/local/core/routingenginev2ctrl</local-jndi-name>

            <method-attributes>
            </method-attributes>
        </session>
        <session>
            <ejb-name>DroppedItemCtrl</ejb-name>
            <jndi-name>amalto/remote/core/droppeditemctrl</jndi-name>
            <local-jndi-name>amalto/local/core/droppeditemctrl</local-jndi-name>

            <method-attributes>
            </method-attributes>
        </session>
        <session>
            <ejb-name>BackgroundJobCtrl</ejb-name>
            <jndi-name>amalto/remote/core/backgroundjobctrl</jndi-name>
            <local-jndi-name>amalto/local/core/backgroundjobctrl</local-jndi-name>

            <method-attributes>
            </method-attributes>
        </session>
        <session>
            <ejb-name>ConfigurationInfoCtrl</ejb-name>
            <jndi-name>amalto/remote/core/configurationinfoctrl</jndi-name>
            <local-jndi-name>amalto/local/core/configurationinfoctrl</local-jndi-name>

            <method-attributes>
            </method-attributes>
        </session>
        <session>
            <ejb-name>RoleCtrl</ejb-name>
            <jndi-name>amalto/remote/core/rolectrl</jndi-name>
            <local-jndi-name>amalto/local/core/rolectrl</local-jndi-name>

            <method-attributes>
            </method-attributes>
        </session>
        <session>
            <ejb-name>MenuCtrl</ejb-name>
            <jndi-name>amalto/remote/core/menuctrl</jndi-name>
            <local-jndi-name>amalto/local/core/menuctrl</local-jndi-name>

            <method-attributes>
            </method-attributes>
        </session>
        <session>
            <ejb-name>XmlServerSLWrapper</ejb-name>
            <jndi-name>amalto/remote/xmldb/xmlserverslwrapper</jndi-name>
            <local-jndi-name>amalto/local/xmldb/xmlserverslwrapper</local-jndi-name>

            <method-attributes>
            </method-attributes>
        </session>
        <session>
            <ejb-name>ItemCtrl2</ejb-name>
            <jndi-name>amalto/remote/core/itemctrl2</jndi-name>
            <local-jndi-name>amalto/local/core/itemctrl2</local-jndi-name>

            <method-attributes>
            </method-attributes>
        </session>
        <session>
            <ejb-name>ViewCtrl</ejb-name>
            <jndi-name>amalto/remote/core/viewctrl</jndi-name>
            <local-jndi-name>amalto/local/core/viewctrl</local-jndi-name>

            <method-attributes>
            </method-attributes>
        </session>

        <message-driven>
            <ejb-name>DataModelUpdateMDB</ejb-name>
            <!-- FIXME: do not use test topic -->
            <destination-jndi-name>topic/testTopic</destination-jndi-name>
            <resource-ref>
                <res-ref-name>jms/QCF</res-ref-name>
                <jndi-name>java:/XAConnectionFactory</jndi-name>
            </resource-ref>
        </message-driven>
        <!--
          write a merge file jboss-webservices.ent for webservice-description
        -->

    </enterprise-beans>

    <!--
      To specify your own assembly descriptor info here, add a file to your
      XDoclet merge directory called jboss-assembly-descriptor.xml that contains
      the <assembly-descriptor></assembly-descriptor> markup.
    -->
    <assembly-descriptor>
        <!-- message destinations -->
        <!--
          To specify additional message-destination elements, add a file in the merge
          directory called jboss-message-destinations.ent that contains them.
        -->
    </assembly-descriptor>

    <resource-managers>
    </resource-managers>

    <container-configurations>
        <container-configuration>
            <container-name>Option D30</container-name>
            <call-logging>false</call-logging>
            <invoker-proxy-binding-name>entity-rmi-invoker</invoker-proxy-binding-name>
            <sync-on-commit-only>false</sync-on-commit-only>
            <insert-after-ejb-post-create>false</insert-after-ejb-post-create>
            <container-interceptors>
                <interceptor>org.jboss.ejb.plugins.ProxyFactoryFinderInterceptor</interceptor>
                <interceptor>org.jboss.ejb.plugins.LogInterceptor</interceptor>
                <interceptor>org.jboss.ejb.plugins.SecurityInterceptor</interceptor>
                <interceptor>org.jboss.ejb.plugins.TxInterceptorCMT</interceptor>
                <interceptor>org.jboss.ejb.plugins.CallValidationInterceptor</interceptor>
                <interceptor metricsEnabled="true">org.jboss.ejb.plugins.MetricsInterceptor</interceptor>
                <interceptor>org.jboss.ejb.plugins.EntityCreationInterceptor</interceptor>
                <interceptor>org.jboss.ejb.plugins.EntityLockInterceptor</interceptor>
                <interceptor>org.jboss.ejb.plugins.EntityInstanceInterceptor</interceptor>
                <interceptor>org.jboss.ejb.plugins.EntityReentranceInterceptor</interceptor>
                <interceptor>org.jboss.resource.connectionmanager.CachedConnectionInterceptor</interceptor>
                <interceptor>org.jboss.ejb.plugins.EntitySynchronizationInterceptor</interceptor>
            </container-interceptors>
            <instance-pool>org.jboss.ejb.plugins.EntityInstancePool</instance-pool>
            <instance-cache>org.jboss.ejb.plugins.EntityInstanceCache</instance-cache>
            <persistence-manager>org.jboss.ejb.plugins.BMPPersistenceManager</persistence-manager>
            <locking-policy>org.jboss.ejb.plugins.lock.QueuedPessimisticEJBLock</locking-policy>
            <container-cache-conf>
                <cache-policy>org.jboss.ejb.plugins.LRUEnterpriseContextCachePolicy</cache-policy>
                <cache-policy-conf>
                    <min-capacity>50</min-capacity>
                    <max-capacity>1000000</max-capacity>
                    <overager-period>300</overager-period>
                    <max-bean-age>600</max-bean-age>
                    <resizer-period>400</resizer-period>
                    <max-cache-miss-period>60</max-cache-miss-period>
                    <min-cache-miss-period>1</min-cache-miss-period>
                    <cache-load-factor>0.75</cache-load-factor>
                </cache-policy-conf>
            </container-cache-conf>
            <container-pool-conf>
                <MaximumSize>100</MaximumSize>
            </container-pool-conf>
            <commit-option>D</commit-option>
            <optiond-refresh-rate>30</optiond-refresh-rate>
        </container-configuration>
    </container-configurations>

</jboss>
